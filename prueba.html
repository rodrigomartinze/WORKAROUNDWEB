
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Formulario CRUD con Flask y MySQL</title>
</head>
<body>
    <h1>Formulario CRUD</h1>
    <form action="/guardar" method="POST">
        <input type="text" name="nombre" placeholder="Nombre" required>
        <input type="email" name="email" placeholder="Email" required>
        <input type="text" name="telefono" placeholder="Teléfono" required>
        <button type="submit">Guardar</button>
    </form>

    <h2>Buscar / Modificar / Eliminar</h2>
    <form action="/buscar" method="POST">
        <input type="number" name="id" placeholder="ID">
        <button type="submit">Buscar</button>
    </form>

    {% if persona %}
        <form action="/modificar" method="POST">
            <input type="hidden" name="id" value="{{ persona.id }}">
            <input type="text" name="nombre" value="{{ persona.nombre }}">
            <input type="email" name="email" value="{{ persona.email }}">
            <input type="text" name="telefono" value="{{ persona.telefono }}">
            <button type="submit">Modificar</button>
        </form>
        <form action="/eliminar" method="POST">
            <input type="hidden" name="id" value="{{ persona.id }}">
            <button type="submit">Eliminar</button>
        </form>
    {% endif %}

    <h2>Lista de personas</h2>
    <table border="1">
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Email</th>
            <th>Teléfono</th>
        </tr>
        {% for p in personas %}
        <tr>
            <td>{{ p.id }}</td>
            <td>{{ p.nombre }}</td>
            <td>{{ p.email }}</td>
            <td>{{ p.telefono }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
